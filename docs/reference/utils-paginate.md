# Paginator Object

```javascript
const Paginator = require('knork/utils/paginate')
const paginator = new Paginator(Blog.objects.all(), 15)
paginator.page(3).then(page => {
  page // <-- Page
})
```

Given an [`QuerySet`][def-queryset] and a number of objects to return
per page, return a paginator that can look up "pages" of objects. Each `Page`
has a slice of the queryset, and methods for looking up the next and previous
pages, if any.

## Table of Contents

* [API](#api)
  * [Types](#types)

    * [Paginator](#paginator)
    * [Page](#page)
    * [Paginator.InvalidPage extends Error](#paginatorinvalidpage-extends-error)
    * [Paginator.OutOfRange extends Error](#paginatoroutofrange-extends-error)

  * [Methods](#methods)

    * [new Paginator(queryset, perPage) → Paginator](#new-paginatorqueryset-perpage--paginator)
    * [Paginator#page(num) → Promise&lt;Page>](#paginatorpagenum--promisepage)
    * [Page#hasNext → Boolean](#pagehasnext--boolean)
    * [Page#hasPrev → Boolean](#pagehasprev--boolean)
    * [Page#next → Number](#pagenext--number)
    * [Page#prev → Number](#pageprev--number)

## API

### Types

#### `Paginator`

A object that creates `Page` instances on request.

#### `Page`

A single page of object instances.

* `total`: Number — the total number of objects.
* `maxPage`: Number — the maximum valid page number.
* `pageNumber`: Number — this page's number.
* `objects`: Array — an array of the objects for the page.

<a id="paginator-invalid-page"></a>

#### `Paginator.InvalidPage extends Error`

An error generated by [`Paginator#page(n)`](#paginator-page) when `n` is not a
positive integer.

<a id="paginator-out-of-range"></a>

#### `Paginator.OutOfRange extends Error`

An error generated by [`Paginator#page(n)`](#paginator-page) when `n` is
greater than the maximum number of pages available.

### Methods

#### `new Paginator(queryset, perPage) → Paginator`

Create a new paginator object which creates pages of size `perPage`.

<a id="paginator-page"></a>

#### `Paginator#page(num) → Promise<Page>`

Return a [`Promise`][def-promise] for a single `Page` instance. May return a
rejection with [`Paginator.InvalidPage`](#paginator-invalid-page) or
[`Paginator.OutOfRange`](#paginator-out-of-range) error instances.

#### `Page#hasNext → Boolean`

Returns true if there are pages after the current `Page` object.

#### `Page#hasPrev → Boolean`

Returns true if there are pages before the current `Page` object.

#### `Page#next → Number`

Returns the page number of the next page.

#### `Page#prev → Number`

Returns the page number of the previous page.

[def-queryset]: https://github.com/chrisdickinson/ormnomnom/blob/master/docs/ref/queryset.md

[def-promise]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise
